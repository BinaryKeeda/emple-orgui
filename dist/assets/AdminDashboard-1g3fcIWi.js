import{r as u,g as ct,a as dt,u as et,b as F,c as _,s as L,j as e,d as f,e as ot,m as U,f as mt,h as pt,T as vt,i as xt,k as bt,l as st,n as yt,o as wt,p as jt,q as Rt,t as at,B as nt,C as Pt,v as Ot,w as kt,L as Ct,x as Q,I as tt,y as Tt,z as Nt,A as Dt}from"./index-Dm6XyL4l.js";import{u as St}from"./useQuery-BbZ0NZ13.js";import{o as gt,d as $t,m as Et,M as Bt,P as At}from"./Modal-CBLXFOlt.js";import{g as Lt}from"./dividerClasses-DHm6-sj7.js";import{T as A}from"./Typography-DlwFXgy0.js";import{S as Z,A as zt}from"./ArrowRight-BIFGisAK.js";import{D as It}from"./Delete-BIXPWRyc.js";import{B as Mt}from"./Button-BBBSNFbj.js";const ht=r=>{const t=u.useRef({});return u.useEffect(()=>{t.current=r}),t.current};function Ft(r){const{badgeContent:t,invisible:o=!1,max:a=99,showZero:n=!1}=r,p=ht({badgeContent:t,max:a});let d=o;o===!1&&t===0&&!n&&(d=!0);const{badgeContent:s,max:i=a}=d?p:r,l=s&&Number(s)>i?`${i}+`:s;return{badgeContent:s,invisible:d,max:i,displayValue:l}}function Vt(r){return dt("MuiBadge",r)}const $=ct("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),J=10,K=4,Wt=r=>{const{color:t,anchorOrigin:o,invisible:a,overlap:n,variant:p,classes:d={}}=r,s={root:["root"],badge:["badge",p,a&&"invisible",`anchorOrigin${f(o.vertical)}${f(o.horizontal)}`,`anchorOrigin${f(o.vertical)}${f(o.horizontal)}${f(n)}`,`overlap${f(n)}`,t!=="default"&&`color${f(t)}`]};return ot(s,Vt,d)},_t=L("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ut=L("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.badge,t[o.variant],t[`anchorOrigin${f(o.anchorOrigin.vertical)}${f(o.anchorOrigin.horizontal)}${f(o.overlap)}`],o.color!=="default"&&t[`color${f(o.color)}`],o.invisible&&t.invisible]}})(U(({theme:r})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:J*2,lineHeight:1,padding:"0 6px",height:J*2,borderRadius:J,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen}),variants:[...Object.entries(r.palette).filter(mt(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(r.vars||r).palette[t].main,color:(r.vars||r).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:K,height:K*2,minWidth:K*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})}}]})));function lt(r){return{vertical:r?.vertical??"top",horizontal:r?.horizontal??"right"}}const Ht=u.forwardRef(function(t,o){const a=et({props:t,name:"MuiBadge"}),{anchorOrigin:n,className:p,classes:d,component:s,components:i={},componentsProps:l={},children:g,overlap:v="rectangular",color:x="default",invisible:T=!1,max:E=99,badgeContent:y,slots:b,slotProps:N,showZero:z=!1,variant:P="standard",...D}=a,{badgeContent:R,invisible:V,max:m,displayValue:B}=Ft({max:E,invisible:T,badgeContent:y,showZero:z}),w=ht({anchorOrigin:lt(n),color:x,overlap:v,variant:P,badgeContent:y}),I=V||R==null&&P!=="dot",{color:H=x,overlap:O=v,anchorOrigin:k,variant:j=P}=I?w:a,W=lt(k),M=j!=="dot"?B:void 0,S={...a,badgeContent:R,invisible:I,max:m,displayValue:M,showZero:z,anchorOrigin:W,color:H,overlap:O,variant:j},c=Wt(S),h={slots:{root:b?.root??i.Root,badge:b?.badge??i.Badge},slotProps:{root:N?.root??l.root,badge:N?.badge??l.badge}},[C,q]=F("root",{elementType:_t,externalForwardedProps:{...h,...D},ownerState:S,className:_(c.root,p),ref:o,additionalProps:{as:s}}),[G,Y]=F("badge",{elementType:Ut,externalForwardedProps:h,ownerState:S,className:c.badge});return e.jsxs(C,{...q,children:[g,e.jsx(G,{...Y,children:M})]})}),Yt=r=>{const{absolute:t,children:o,classes:a,flexItem:n,light:p,orientation:d,textAlign:s,variant:i}=r;return ot({root:["root",t&&"absolute",i,p&&"light",d==="vertical"&&"vertical",n&&"flexItem",o&&"withChildren",o&&d==="vertical"&&"withChildrenVertical",s==="right"&&d!=="vertical"&&"textAlignRight",s==="left"&&d!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",d==="vertical"&&"wrapperVertical"]},Lt,a)},Xt=L("div",{name:"MuiDivider",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(U(({theme:r})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(r.vars||r).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:r.alpha((r.vars||r).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:r.spacing(2),marginRight:r.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:r.spacing(1),marginBottom:r.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(r.vars||r).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(r.vars||r).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),qt=L("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(U(({theme:r})=>({display:"inline-block",paddingLeft:`calc(${r.spacing(1)} * 1.2)`,paddingRight:`calc(${r.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${r.spacing(1)} * 1.2)`,paddingBottom:`calc(${r.spacing(1)} * 1.2)`}}]}))),rt=u.forwardRef(function(t,o){const a=et({props:t,name:"MuiDivider"}),{absolute:n=!1,children:p,className:d,orientation:s="horizontal",component:i=p||s==="vertical"?"div":"hr",flexItem:l=!1,light:g=!1,role:v=i!=="hr"?"separator":void 0,textAlign:x="center",variant:T="fullWidth",...E}=a,y={...a,absolute:n,component:i,flexItem:l,light:g,orientation:s,role:v,textAlign:x,variant:T},b=Yt(y);return e.jsx(Xt,{as:i,className:_(b.root,d),role:v,ref:o,ownerState:y,"aria-orientation":v==="separator"&&(i!=="hr"||s==="vertical")?s:void 0,...E,children:p?e.jsx(qt,{className:b.wrapper,ownerState:y,children:p}):null})});rt&&(rt.muiSkipListHighlight=!0);function Gt(r,t,o){const a=t.getBoundingClientRect(),n=o&&o.getBoundingClientRect(),p=gt(t);let d;if(t.fakeTransform)d=t.fakeTransform;else{const l=p.getComputedStyle(t);d=l.getPropertyValue("-webkit-transform")||l.getPropertyValue("transform")}let s=0,i=0;if(d&&d!=="none"&&typeof d=="string"){const l=d.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),i=parseInt(l[5],10)}return r==="left"?n?`translateX(${n.right+s-a.left}px)`:`translateX(${p.innerWidth+s-a.left}px)`:r==="right"?n?`translateX(-${a.right-n.left-s}px)`:`translateX(-${a.left+a.width-s}px)`:r==="up"?n?`translateY(${n.bottom+i-a.top}px)`:`translateY(${p.innerHeight+i-a.top}px)`:n?`translateY(-${a.top-n.top+a.height-i}px)`:`translateY(-${a.top+a.height-i}px)`}function Zt(r){return typeof r=="function"?r():r}function X(r,t,o){const a=Zt(o),n=Gt(r,t,a);n&&(t.style.webkitTransform=n,t.style.transform=n)}const Jt=u.forwardRef(function(t,o){const a=pt(),n={enter:a.transitions.easing.easeOut,exit:a.transitions.easing.sharp},p={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:d,appear:s=!0,children:i,container:l,direction:g="down",easing:v=n,in:x,onEnter:T,onEntered:E,onEntering:y,onExit:b,onExited:N,onExiting:z,style:P,timeout:D=p,TransitionComponent:R=vt,...V}=t,m=u.useRef(null),B=xt(bt(i),m,o),w=c=>h=>{c&&(h===void 0?c(m.current):c(m.current,h))},I=w((c,h)=>{X(g,c,l),yt(c),T&&T(c,h)}),H=w((c,h)=>{const C=st({timeout:D,style:P,easing:v},{mode:"enter"});c.style.webkitTransition=a.transitions.create("-webkit-transform",{...C}),c.style.transition=a.transitions.create("transform",{...C}),c.style.webkitTransform="none",c.style.transform="none",y&&y(c,h)}),O=w(E),k=w(z),j=w(c=>{const h=st({timeout:D,style:P,easing:v},{mode:"exit"});c.style.webkitTransition=a.transitions.create("-webkit-transform",h),c.style.transition=a.transitions.create("transform",h),X(g,c,l),b&&b(c)}),W=w(c=>{c.style.webkitTransition="",c.style.transition="",N&&N(c)}),M=c=>{d&&d(m.current,c)},S=u.useCallback(()=>{m.current&&X(g,m.current,l)},[g,l]);return u.useEffect(()=>{if(x||g==="down"||g==="right")return;const c=$t(()=>{m.current&&X(g,m.current,l)}),h=gt(m.current);return h.addEventListener("resize",c),()=>{c.clear(),h.removeEventListener("resize",c)}},[g,x,l]),u.useEffect(()=>{x||S()},[x,S]),e.jsx(R,{nodeRef:m,onEnter:I,onEntered:O,onEntering:H,onExit:j,onExited:W,onExiting:k,addEndListener:M,appear:s,in:x,timeout:D,...V,children:(c,{ownerState:h,...C})=>u.cloneElement(i,{ref:B,style:{visibility:c==="exited"&&!x?"hidden":void 0,...P,...i.props.style},...C})})});function Kt(r){return dt("MuiDrawer",r)}ct("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const ut=(r,t)=>{const{ownerState:o}=r;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Qt=r=>{const{classes:t,anchor:o,variant:a}=r,n={root:["root",`anchor${f(o)}`],docked:[(a==="permanent"||a==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${f(o)}`,a!=="temporary"&&`paperAnchorDocked${f(o)}`]};return ot(n,Kt,t)},tr=L(Bt,{name:"MuiDrawer",slot:"Root",overridesResolver:ut})(U(({theme:r})=>({zIndex:(r.vars||r).zIndex.drawer}))),rr=L("div",{shouldForwardProp:jt,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:ut})({flex:"0 0 auto"}),er=L(At,{name:"MuiDrawer",slot:"Paper",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.paper,t[`paperAnchor${f(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${f(o.anchor)}`]]}})(U(({theme:r})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(r.vars||r).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(r.vars||r).palette.divider}`}}]}))),ft={left:"right",right:"left",top:"down",bottom:"up"};function or(r){return["left","right"].includes(r)}function ar({direction:r},t){return r==="rtl"&&or(t)?ft[t]:t}const nr=u.forwardRef(function(t,o){const a=et({props:t,name:"MuiDrawer"}),n=pt(),p=wt(),d={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:i,children:l,className:g,elevation:v=16,hideBackdrop:x=!1,ModalProps:{BackdropProps:T,...E}={},onClose:y,open:b=!1,PaperProps:N={},SlideProps:z,TransitionComponent:P,transitionDuration:D=d,variant:R="temporary",slots:V={},slotProps:m={},...B}=a,w=u.useRef(!1);u.useEffect(()=>{w.current=!0},[]);const I=ar({direction:p?"rtl":"ltr"},s),O={...a,anchor:s,elevation:v,open:b,variant:R,...B},k=Qt(O),j={slots:{transition:P,...V},slotProps:{paper:N,transition:z,...m,backdrop:Et(m.backdrop||{...i,...T},{transitionDuration:D})}},[W,M]=F("root",{ref:o,elementType:tr,className:_(k.root,k.modal,g),shouldForwardComponentProp:!0,ownerState:O,externalForwardedProps:{...j,...B,...E},additionalProps:{open:b,onClose:y,hideBackdrop:x,slots:{backdrop:j.slots.backdrop},slotProps:{backdrop:j.slotProps.backdrop}}}),[S,c]=F("paper",{elementType:er,shouldForwardComponentProp:!0,className:_(k.paper,N.className),ownerState:O,externalForwardedProps:j,additionalProps:{elevation:R==="temporary"?v:0,square:!0,...R==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[h,C]=F("docked",{elementType:rr,ref:o,className:_(k.root,k.docked,g),ownerState:O,externalForwardedProps:j,additionalProps:B}),[q,G]=F("transition",{elementType:Jt,ownerState:O,externalForwardedProps:j,additionalProps:{in:b,direction:ft[I],timeout:D,appear:w.current}}),Y=e.jsx(S,{...c,children:l});if(R==="permanent")return e.jsx(h,{...C,children:Y});const it=e.jsx(q,{...G,children:Y});return R==="persistent"?e.jsx(h,{...C,children:it}):e.jsx(W,{...M,children:it})}),ir=Rt(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),sr={GET_USER_INVITE:"/api/data/user/invites/"},lr=at.create({baseURL:nt,withCredentials:!0,headers:{"Content-Type":"application/json"}}),cr=async r=>(await lr.get(sr.GET_USER_INVITE+r)).data.data,dr=({userId:r})=>St({queryKey:["inviteData",r],queryFn:()=>cr(r)});function pr({notificationOpen:r,setNotificationOpen:t,userId:o,refreshInvites:a}){const{data:n,isLoading:p,isError:d}=dr({userId:o}),s=async(i,l,g)=>{try{await at.post(`${nt}/api/data/invites/respond`,{inviteId:i,accept:l==="accept",section:g},{withCredentials:!0}),a&&a()}catch(v){console.error("Error responding to invite:",v)}};return e.jsx(nr,{anchor:"right",open:r,onClose:()=>t(!1),children:e.jsxs("div",{className:"w-80 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Notifications"}),e.jsx(rt,{className:"mb-2"}),p&&e.jsx("div",{className:"flex justify-center items-center mt-10",children:e.jsx(Pt,{size:28})}),d&&e.jsx(A,{color:"error",className:"text-sm text-center mt-4",children:"Failed to load invites."}),!p&&!d&&e.jsxs("ul",{className:"space-y-4 mt-3",children:[JSON.stringify(n),n?.length?n.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl shadow-sm border",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:[i.invitedBy?.name," invited you to join a group"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Role: ",i.role," ·"," ",new Date(i.createdAt).toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(i._id,"accept",i.sectionId),className:"px-2 py-1 text-xs rounded-lg bg-green-500 text-white hover:bg-green-600",children:"✅"}),e.jsx("button",{onClick:()=>s(i._id,"reject",i.sectionId),className:"px-2 py-1 text-xs rounded-lg bg-red-500 text-white hover:bg-red-600",children:"❌"})]})]},i._id)):e.jsx("li",{className:"text-sm text-gray-500 text-center",children:"No pending invites"})]})]})})}const gr=({section:r,onDelete:t})=>{const[o,a]=u.useState(!1),n=Dt();return e.jsxs("div",{className:"relative flex flex-col rounded-xl bg-white text-gray-700 shadow-md hover:shadow-lg transition-transform hover:scale-[1.02]",children:[e.jsxs("div",{className:"relative h-40 flex items-center justify-center bg-gradient-to-r rounded-t-xl overflow-hidden",children:[!o&&r.logo&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:e.jsx(A,{variant:"body2",color:"textSecondary",children:"Loading..."})}),r.logo?e.jsx("img",{src:r.logo,alt:r.name,className:"h-full w-full object-cover",onLoad:()=>a(!0)}):e.jsx(A,{variant:"h4",className:"text-gray-900 font-bold",children:r.name[0]}),e.jsx(Q,{title:"Delete",arrow:!0,children:e.jsx(tt,{size:"small",onClick:t,sx:{position:"absolute",top:8,right:8,color:"#fff",background:"rgba(0,0,0,0.4)","&:hover":{background:"rgba(255,0,0,0.6)"}},children:e.jsx(It,{fontSize:"small"})})})]}),e.jsx("div",{className:"px-6 pt-4 pb-2 text-center",children:e.jsx(A,{variant:"h6",className:"font-semibold",children:r.name})}),e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx(Mt,{onClick:()=>{localStorage.setItem("sectionId",r._id),n("section/"+r._id)},endIcon:e.jsx(zt,{}),sx:{px:3,py:1,fontSize:12,background:"linear-gradient(90deg, #007BFF 0%, #004A99 100%)",color:"#fff",borderRadius:2},children:"Proceed"})})]})},hr=()=>e.jsxs(Nt,{className:"flex flex-col rounded-xl bg-white shadow-md p-4",children:[e.jsx(Z,{variant:"rectangular",height:150,animation:"wave"}),e.jsx(Z,{variant:"text",width:"80%",sx:{mt:2,mx:"auto"}}),e.jsx(Z,{variant:"rectangular",width:"50%",height:36,sx:{mt:2,mx:"auto",borderRadius:1}})]}),jr=()=>{const[r,t]=u.useState(""),[o,a]=u.useState(!0),[n,p]=u.useState(!1),d=Ot(),s=kt(l=>l.auth.user);u.useEffect(()=>{const l=setTimeout(()=>a(!1),1200);return()=>clearTimeout(l)},[]);const i=async l=>{try{await at.post(nt+"/api/campus/delete/section/"+l,{},{withCredentials:!0}),t("Section deleted successfully!")}catch(g){console.error(g),t(g.response?.data?.message||"Error deleting section")}};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"p-2 border-b border-b-[#e1e1e1] flex gap-3 items-center justify-between px-5",children:[e.jsx("img",{src:Ct,className:"h-10",alt:"Logo"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(Q,{title:"Notifications",arrow:!0,children:e.jsx(tt,{size:"small",sx:{color:"#1976d2"},onClick:()=>p(!0),children:e.jsx(Ht,{color:"error",variant:"dot",children:e.jsx(ir,{})})})}),e.jsx(Q,{title:"Logout",arrow:!0,children:e.jsx(tt,{onClick:d,size:"small",sx:{color:"#f44336"},children:e.jsx(Tt,{sx:{cursor:"pointer"}})})})]})]}),s?.user._id&&e.jsx(pr,{notificationOpen:n,setNotificationOpen:p,userId:s.user._id}),r&&e.jsx(A,{color:"success.main",className:"px-5 mt-2",children:r}),o?e.jsx("div",{className:"grid grid-cols-1 p-5 mt-4 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[...Array(5)].map((l,g)=>e.jsx(hr,{},g))}):Array.isArray(s?.ownership)&&s.ownership.length?e.jsx("div",{className:"grid grid-cols-1 p-5 mt-4 md:grid-cols-3 lg:grid-cols-5 gap-6",children:s.ownership.map(l=>e.jsx(gr,{section:l.section,onDelete:()=>i(l._id)},l.section._id))}):e.jsxs("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:[e.jsx(A,{variant:"body1",gutterBottom:!0,children:"Admin, no sections have been created yet."}),e.jsx(A,{variant:"body2",children:"Ask your admin to create sections."})]})]})};export{jr as default};
