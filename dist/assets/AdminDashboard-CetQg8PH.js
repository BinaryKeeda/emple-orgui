import{r as u,g as ct,a as dt,u as et,b as M,c as _,s as A,j as e,d as f,e as ot,m as U,f as mt,h as pt,T as vt,i as xt,k as bt,l as st,n as yt,o as wt,p as jt,q as Rt,t as at,B as nt,C as Pt,v as Ot,w as kt,L as Ct,x as J,I as tt,y as Tt,z as Dt,A as Nt}from"./index-C3gQS_fc.js";import{u as St}from"./useQuery-Ctkci8ve.js";import{o as gt,d as $t,m as Bt,M as Et,P as At}from"./Modal-CzDa24g1.js";import{g as Lt}from"./dividerClasses-DjFv4zgk.js";import{T as F}from"./Typography-DokONTuu.js";import{S as Z,A as zt}from"./ArrowRight-byY60ldb.js";import{D as It}from"./Delete-ZDpJ_jVm.js";import{B as Mt}from"./Button-DB3elE-F.js";const ht=r=>{const t=u.useRef({});return u.useEffect(()=>{t.current=r}),t.current};function Ft(r){const{badgeContent:t,invisible:o=!1,max:a=99,showZero:s=!1}=r,d=ht({badgeContent:t,max:a});let c=o;o===!1&&t===0&&!s&&(c=!0);const{badgeContent:n,max:i=a}=c?d:r,p=n&&Number(n)>i?`${i}+`:n;return{badgeContent:n,invisible:c,max:i,displayValue:p}}function Vt(r){return dt("MuiBadge",r)}const $=ct("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),K=10,Q=4,Wt=r=>{const{color:t,anchorOrigin:o,invisible:a,overlap:s,variant:d,classes:c={}}=r,n={root:["root"],badge:["badge",d,a&&"invisible",`anchorOrigin${f(o.vertical)}${f(o.horizontal)}`,`anchorOrigin${f(o.vertical)}${f(o.horizontal)}${f(s)}`,`overlap${f(s)}`,t!=="default"&&`color${f(t)}`]};return ot(n,Vt,c)},_t=A("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ut=A("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.badge,t[o.variant],t[`anchorOrigin${f(o.anchorOrigin.vertical)}${f(o.anchorOrigin.horizontal)}${f(o.overlap)}`],o.color!=="default"&&t[`color${f(o.color)}`],o.invisible&&t.invisible]}})(U(({theme:r})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:K*2,lineHeight:1,padding:"0 6px",height:K*2,borderRadius:K,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen}),variants:[...Object.entries(r.palette).filter(mt(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(r.vars||r).palette[t].main,color:(r.vars||r).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Q,height:Q*2,minWidth:Q*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})}}]})));function lt(r){return{vertical:r?.vertical??"top",horizontal:r?.horizontal??"right"}}const Ht=u.forwardRef(function(t,o){const a=et({props:t,name:"MuiBadge"}),{anchorOrigin:s,className:d,classes:c,component:n,components:i={},componentsProps:p={},children:h,overlap:v="rectangular",color:x="default",invisible:T=!1,max:B=99,badgeContent:y,slots:b,slotProps:D,showZero:L=!1,variant:P="standard",...N}=a,{badgeContent:R,invisible:V,max:m,displayValue:E}=Ft({max:B,invisible:T,badgeContent:y,showZero:L}),w=ht({anchorOrigin:lt(s),color:x,overlap:v,variant:P,badgeContent:y}),z=V||R==null&&P!=="dot",{color:H=x,overlap:O=v,anchorOrigin:k,variant:j=P}=z?w:a,W=lt(k),I=j!=="dot"?E:void 0,S={...a,badgeContent:R,invisible:z,max:m,displayValue:I,showZero:L,anchorOrigin:W,color:H,overlap:O,variant:j},l=Wt(S),g={slots:{root:b?.root??i.Root,badge:b?.badge??i.Badge},slotProps:{root:D?.root??p.root,badge:D?.badge??p.badge}},[C,q]=M("root",{elementType:_t,externalForwardedProps:{...g,...N},ownerState:S,className:_(l.root,d),ref:o,additionalProps:{as:n}}),[G,Y]=M("badge",{elementType:Ut,externalForwardedProps:g,ownerState:S,className:l.badge});return e.jsxs(C,{...q,children:[h,e.jsx(G,{...Y,children:I})]})}),Yt=r=>{const{absolute:t,children:o,classes:a,flexItem:s,light:d,orientation:c,textAlign:n,variant:i}=r;return ot({root:["root",t&&"absolute",i,d&&"light",c==="vertical"&&"vertical",s&&"flexItem",o&&"withChildren",o&&c==="vertical"&&"withChildrenVertical",n==="right"&&c!=="vertical"&&"textAlignRight",n==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},Lt,a)},Xt=A("div",{name:"MuiDivider",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(U(({theme:r})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(r.vars||r).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:r.alpha((r.vars||r).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:r.spacing(2),marginRight:r.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:r.spacing(1),marginBottom:r.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(r.vars||r).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(r.vars||r).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),qt=A("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(U(({theme:r})=>({display:"inline-block",paddingLeft:`calc(${r.spacing(1)} * 1.2)`,paddingRight:`calc(${r.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${r.spacing(1)} * 1.2)`,paddingBottom:`calc(${r.spacing(1)} * 1.2)`}}]}))),rt=u.forwardRef(function(t,o){const a=et({props:t,name:"MuiDivider"}),{absolute:s=!1,children:d,className:c,orientation:n="horizontal",component:i=d||n==="vertical"?"div":"hr",flexItem:p=!1,light:h=!1,role:v=i!=="hr"?"separator":void 0,textAlign:x="center",variant:T="fullWidth",...B}=a,y={...a,absolute:s,component:i,flexItem:p,light:h,orientation:n,role:v,textAlign:x,variant:T},b=Yt(y);return e.jsx(Xt,{as:i,className:_(b.root,c),role:v,ref:o,ownerState:y,"aria-orientation":v==="separator"&&(i!=="hr"||n==="vertical")?n:void 0,...B,children:d?e.jsx(qt,{className:b.wrapper,ownerState:y,children:d}):null})});rt&&(rt.muiSkipListHighlight=!0);function Gt(r,t,o){const a=t.getBoundingClientRect(),s=o&&o.getBoundingClientRect(),d=gt(t);let c;if(t.fakeTransform)c=t.fakeTransform;else{const p=d.getComputedStyle(t);c=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("transform")}let n=0,i=0;if(c&&c!=="none"&&typeof c=="string"){const p=c.split("(")[1].split(")")[0].split(",");n=parseInt(p[4],10),i=parseInt(p[5],10)}return r==="left"?s?`translateX(${s.right+n-a.left}px)`:`translateX(${d.innerWidth+n-a.left}px)`:r==="right"?s?`translateX(-${a.right-s.left-n}px)`:`translateX(-${a.left+a.width-n}px)`:r==="up"?s?`translateY(${s.bottom+i-a.top}px)`:`translateY(${d.innerHeight+i-a.top}px)`:s?`translateY(-${a.top-s.top+a.height-i}px)`:`translateY(-${a.top+a.height-i}px)`}function Zt(r){return typeof r=="function"?r():r}function X(r,t,o){const a=Zt(o),s=Gt(r,t,a);s&&(t.style.webkitTransform=s,t.style.transform=s)}const Kt=u.forwardRef(function(t,o){const a=pt(),s={enter:a.transitions.easing.easeOut,exit:a.transitions.easing.sharp},d={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:c,appear:n=!0,children:i,container:p,direction:h="down",easing:v=s,in:x,onEnter:T,onEntered:B,onEntering:y,onExit:b,onExited:D,onExiting:L,style:P,timeout:N=d,TransitionComponent:R=vt,...V}=t,m=u.useRef(null),E=xt(bt(i),m,o),w=l=>g=>{l&&(g===void 0?l(m.current):l(m.current,g))},z=w((l,g)=>{X(h,l,p),yt(l),T&&T(l,g)}),H=w((l,g)=>{const C=st({timeout:N,style:P,easing:v},{mode:"enter"});l.style.webkitTransition=a.transitions.create("-webkit-transform",{...C}),l.style.transition=a.transitions.create("transform",{...C}),l.style.webkitTransform="none",l.style.transform="none",y&&y(l,g)}),O=w(B),k=w(L),j=w(l=>{const g=st({timeout:N,style:P,easing:v},{mode:"exit"});l.style.webkitTransition=a.transitions.create("-webkit-transform",g),l.style.transition=a.transitions.create("transform",g),X(h,l,p),b&&b(l)}),W=w(l=>{l.style.webkitTransition="",l.style.transition="",D&&D(l)}),I=l=>{c&&c(m.current,l)},S=u.useCallback(()=>{m.current&&X(h,m.current,p)},[h,p]);return u.useEffect(()=>{if(x||h==="down"||h==="right")return;const l=$t(()=>{m.current&&X(h,m.current,p)}),g=gt(m.current);return g.addEventListener("resize",l),()=>{l.clear(),g.removeEventListener("resize",l)}},[h,x,p]),u.useEffect(()=>{x||S()},[x,S]),e.jsx(R,{nodeRef:m,onEnter:z,onEntered:O,onEntering:H,onExit:j,onExited:W,onExiting:k,addEndListener:I,appear:n,in:x,timeout:N,...V,children:(l,{ownerState:g,...C})=>u.cloneElement(i,{ref:E,style:{visibility:l==="exited"&&!x?"hidden":void 0,...P,...i.props.style},...C})})});function Qt(r){return dt("MuiDrawer",r)}ct("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const ut=(r,t)=>{const{ownerState:o}=r;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Jt=r=>{const{classes:t,anchor:o,variant:a}=r,s={root:["root",`anchor${f(o)}`],docked:[(a==="permanent"||a==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${f(o)}`,a!=="temporary"&&`paperAnchorDocked${f(o)}`]};return ot(s,Qt,t)},tr=A(Et,{name:"MuiDrawer",slot:"Root",overridesResolver:ut})(U(({theme:r})=>({zIndex:(r.vars||r).zIndex.drawer}))),rr=A("div",{shouldForwardProp:jt,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:ut})({flex:"0 0 auto"}),er=A(At,{name:"MuiDrawer",slot:"Paper",overridesResolver:(r,t)=>{const{ownerState:o}=r;return[t.paper,t[`paperAnchor${f(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${f(o.anchor)}`]]}})(U(({theme:r})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(r.vars||r).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(r.vars||r).palette.divider}`}}]}))),ft={left:"right",right:"left",top:"down",bottom:"up"};function or(r){return["left","right"].includes(r)}function ar({direction:r},t){return r==="rtl"&&or(t)?ft[t]:t}const nr=u.forwardRef(function(t,o){const a=et({props:t,name:"MuiDrawer"}),s=pt(),d=wt(),c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:n="left",BackdropProps:i,children:p,className:h,elevation:v=16,hideBackdrop:x=!1,ModalProps:{BackdropProps:T,...B}={},onClose:y,open:b=!1,PaperProps:D={},SlideProps:L,TransitionComponent:P,transitionDuration:N=c,variant:R="temporary",slots:V={},slotProps:m={},...E}=a,w=u.useRef(!1);u.useEffect(()=>{w.current=!0},[]);const z=ar({direction:d?"rtl":"ltr"},n),O={...a,anchor:n,elevation:v,open:b,variant:R,...E},k=Jt(O),j={slots:{transition:P,...V},slotProps:{paper:D,transition:L,...m,backdrop:Bt(m.backdrop||{...i,...T},{transitionDuration:N})}},[W,I]=M("root",{ref:o,elementType:tr,className:_(k.root,k.modal,h),shouldForwardComponentProp:!0,ownerState:O,externalForwardedProps:{...j,...E,...B},additionalProps:{open:b,onClose:y,hideBackdrop:x,slots:{backdrop:j.slots.backdrop},slotProps:{backdrop:j.slotProps.backdrop}}}),[S,l]=M("paper",{elementType:er,shouldForwardComponentProp:!0,className:_(k.paper,D.className),ownerState:O,externalForwardedProps:j,additionalProps:{elevation:R==="temporary"?v:0,square:!0,...R==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[g,C]=M("docked",{elementType:rr,ref:o,className:_(k.root,k.docked,h),ownerState:O,externalForwardedProps:j,additionalProps:E}),[q,G]=M("transition",{elementType:Kt,ownerState:O,externalForwardedProps:j,additionalProps:{in:b,direction:ft[z],timeout:N,appear:w.current}}),Y=e.jsx(S,{...l,children:p});if(R==="permanent")return e.jsx(g,{...C,children:Y});const it=e.jsx(q,{...G,children:Y});return R==="persistent"?e.jsx(g,{...C,children:it}):e.jsx(W,{...I,children:it})}),ir=Rt(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),sr={GET_USER_INVITE:"/api/data/user/invites/"},lr=at.create({baseURL:nt,withCredentials:!0,headers:{"Content-Type":"application/json"}}),cr=async r=>(await lr.get(sr.GET_USER_INVITE+r)).data.data,dr=({userId:r})=>St({queryKey:["inviteData",r],queryFn:()=>cr(r)});function pr({notificationOpen:r,setNotificationOpen:t,userId:o,refreshInvites:a}){const{data:s,isLoading:d,isError:c}=dr({userId:o}),n=async(i,p,h)=>{try{await at.post(`${nt}/api/data/invites/respond`,{inviteId:i,accept:p==="accept",section:h},{withCredentials:!0}),window.location.reload(),a&&a()}catch(v){console.error("Error responding to invite:",v)}};return e.jsx(nr,{anchor:"right",open:r,onClose:()=>t(!1),children:e.jsxs("div",{className:"w-80 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Notifications"}),e.jsx(rt,{className:"mb-2"}),d&&e.jsx("div",{className:"flex justify-center items-center mt-10",children:e.jsx(Pt,{size:28})}),c&&e.jsx(F,{color:"error",className:"text-sm text-center mt-4",children:"Failed to load invites."}),!d&&!c&&e.jsx("ul",{className:"space-y-4 mt-3",children:s?.length?s.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl shadow-sm border",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:[i.invitedBy?.name," invited you to join a group"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Role: ",i.role," ·"," ",new Date(i.createdAt).toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>n(i._id,"accept",i.sectionId),className:"px-2 py-1 text-xs rounded-lg bg-green-500 text-white hover:bg-green-600",children:"✅"}),e.jsx("button",{onClick:()=>n(i._id,"reject",i.sectionId),className:"px-2 py-1 text-xs rounded-lg bg-red-500 text-white hover:bg-red-600",children:"❌"})]})]},i._id)):e.jsx("li",{className:"text-sm text-gray-500 text-center",children:"No pending invites"})})]})})}const gr=({section:r,onDelete:t})=>{const[o,a]=u.useState(!1),s=Nt();return e.jsxs("div",{className:"relative flex flex-col rounded-xl bg-white text-gray-700 shadow-md hover:shadow-lg transition-transform hover:scale-[1.02]",children:[e.jsxs("div",{className:"relative h-40 flex items-center justify-center bg-gradient-to-r rounded-t-xl overflow-hidden",children:[!o&&r.logo&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:e.jsx(F,{variant:"body2",color:"textSecondary",children:"Loading..."})}),r.logo?e.jsx("img",{src:r.logo,alt:r.name,className:"h-full w-full object-cover",onLoad:()=>a(!0)}):e.jsx(F,{variant:"h4",className:"text-gray-900 font-bold",children:r.name[0]}),e.jsx(J,{title:"Delete",arrow:!0,children:e.jsx(tt,{size:"small",onClick:t,sx:{position:"absolute",top:8,right:8,color:"#fff",background:"rgba(0,0,0,0.4)","&:hover":{background:"rgba(255,0,0,0.6)"}},children:e.jsx(It,{fontSize:"small"})})})]}),e.jsx("div",{className:"px-6 pt-4 pb-2 text-center",children:e.jsx(F,{variant:"h6",className:"font-semibold",children:r.name})}),e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx(Mt,{onClick:()=>{localStorage.setItem("sectionId",r._id),s("section/"+r._id)},endIcon:e.jsx(zt,{}),sx:{px:3,py:1,fontSize:12,background:"linear-gradient(90deg, #007BFF 0%, #004A99 100%)",color:"#fff",borderRadius:2},children:"Proceed"})})]})},hr=()=>e.jsxs(Dt,{className:"flex flex-col rounded-xl bg-white shadow-md p-4",children:[e.jsx(Z,{variant:"rectangular",height:150,animation:"wave"}),e.jsx(Z,{variant:"text",width:"80%",sx:{mt:2,mx:"auto"}}),e.jsx(Z,{variant:"rectangular",width:"50%",height:36,sx:{mt:2,mx:"auto",borderRadius:1}})]}),jr=()=>{const[r,t]=u.useState(!0),[o,a]=u.useState(!1),s=Ot(),d=kt(n=>n.auth.user);u.useEffect(()=>{const n=setTimeout(()=>t(!1),1200);return()=>clearTimeout(n)},[]);const c=async n=>{try{await at.post(nt+"/api/campus/delete/section/"+n,{},{withCredentials:!0})}catch(i){console.error(i)}};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"p-2 border-b border-b-[#e1e1e1] flex gap-3 items-center justify-between px-5",children:[e.jsx("img",{src:Ct,className:"h-10",alt:"Logo"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(J,{title:"Notifications",arrow:!0,children:e.jsx(tt,{size:"small",sx:{color:"#1976d2"},onClick:()=>a(!0),children:e.jsx(Ht,{color:"error",variant:"dot",children:e.jsx(ir,{})})})}),e.jsx(J,{title:"Logout",arrow:!0,children:e.jsx(tt,{onClick:s,size:"small",sx:{color:"#f44336"},children:e.jsx(Tt,{sx:{cursor:"pointer"}})})})]})]}),d?.user?._id&&e.jsx(pr,{notificationOpen:o,setNotificationOpen:a,userId:d.user?._id}),r?e.jsx("div",{className:"grid grid-cols-1 p-5 mt-4 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[...Array(5)].map((n,i)=>e.jsx(hr,{},i))}):Array.isArray(d?.ownership)&&d.ownership.length?e.jsx("div",{className:"grid grid-cols-1 p-5 mt-4 md:grid-cols-3 lg:grid-cols-5 gap-6",children:d.ownership.map(n=>e.jsx(gr,{section:n.section,onDelete:()=>c(n._id)},n.section?._id))}):e.jsxs("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:[e.jsx(F,{variant:"body1",gutterBottom:!0,children:"Admin, no sections have been created yet."}),e.jsx(F,{variant:"body2",children:"Ask your admin to create sections."})]})]})};export{jr as default};
