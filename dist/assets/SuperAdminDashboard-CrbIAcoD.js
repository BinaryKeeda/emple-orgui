import{r as g,E as _t,F as ye,i as Tt,G as Nt,H as Xe,J as Fe,K as Ke,M as st,N as Oe,g as It,a as Ft,j as u,c as Ce,u as Ot,o as Wt,O as Q,s as ce,d as ee,e as Ht,m as ve,f as it,P as Rt,q as Pt,Q as Ut,t as nt,B as at,v as Vt,x as lt,w as Zt,C as $t,L as Bt,y as kt,I as Et,z as qt,A as ct,D as Gt}from"./index-C_KgOPJW.js";import{_ as Yt,a as I}from"./tslib.es6-BYppDQt_.js";import{g as Xt}from"./userSelector-C6liUQHe.js";import{u as Kt}from"./useQuery-NvrpfyTV.js";import{B as Jt,M as Qt}from"./Modal-CsqwGksE.js";import{T as te}from"./Typography-DtHIjiDr.js";import{T as Dt}from"./TextField-Dts0f4Q5.js";import{I as er,S as tr}from"./Search-DJQRi4CV.js";import{B as me}from"./Button-CJzBbVYG.js";import{A as At}from"./Add-Bl8jt4Tw.js";import{S as Je,A as rr}from"./ArrowRight-DXcb22NQ.js";import{D as or}from"./Delete-lkvFGwpj.js";const nr={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function ar(t,o,e=(r,n)=>r===n){return t.length===o.length&&t.every((r,n)=>e(r,o[n]))}const ir=2;function fe(t,o,e,r,n){return e===1?Math.min(t+o,n):Math.max(t-o,r)}function zt(t,o){return t-o}function ut(t,o){const{index:e}=t.reduce((r,n,i)=>{const a=Math.abs(o-n);return r===null||a<r.distance||a===r.distance?{distance:a,index:i}:r},null)??{};return e}function je(t,o){if(o.current!==void 0&&t.changedTouches){const e=t;for(let r=0;r<e.changedTouches.length;r+=1){const n=e.changedTouches[r];if(n.identifier===o.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function We(t,o,e){return(t-o)*100/(e-o)}function sr(t,o,e){return(e-o)*t+o}function lr(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),r=e[0].split(".")[1];return(r?r.length:0)+parseInt(e[1],10)}const o=t.toString().split(".")[1];return o?o.length:0}function cr(t,o,e){const r=Math.round((t-e)/o)*o+e;return Number(r.toFixed(lr(o)))}function dt({values:t,newValue:o,index:e}){const r=t.slice();return r[e]=o,r.sort(zt)}function _e({sliderRef:t,activeIndex:o,setActive:e}){const r=Fe(t.current);(!t.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==o)&&t.current?.querySelector(`[type="range"][data-index="${o}"]`).focus(),e&&e(o)}function Te(t,o){return typeof t=="number"&&typeof o=="number"?t===o:typeof t=="object"&&typeof o=="object"?ar(t,o):!1}const ur={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},dr=t=>t;let Ne;function pt(){return Ne===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ne=CSS.supports("touch-action","none"):Ne=!0),Ne}function pr(t){const{"aria-labelledby":o,defaultValue:e,disabled:r=!1,disableSwap:n=!1,isRtl:i=!1,marks:a=!1,max:s=100,min:l=0,name:c,onChange:p,onChangeCommitted:C,orientation:v="horizontal",rootRef:R,scale:E=dr,step:P=1,shiftStep:b=10,tabIndex:H,value:D}=t,w=g.useRef(void 0),[y,z]=g.useState(-1),[_,K]=g.useState(-1),[ue,re]=g.useState(!1),U=g.useRef(0),Y=g.useRef(null),[W,V]=_t({controlled:D,default:e??l,name:"Slider"}),T=p&&((h,d,f)=>{const S=h.nativeEvent||h,x=new S.constructor(S.type,S);Object.defineProperty(x,"target",{writable:!0,value:{value:d,name:c}}),Y.current=d,p(x,d,f)}),de=Array.isArray(W);let L=de?W.slice().sort(zt):[W];L=L.map(h=>h==null?l:ye(h,l,s));const be=a===!0&&P!==null?[...Array(Math.floor((s-l)/P)+1)].map((h,d)=>({value:l+P*d})):a||[],A=be.map(h=>h.value),[J,pe]=g.useState(-1),k=g.useRef(null),oe=Tt(R,k),Ue=h=>d=>{const f=Number(d.currentTarget.getAttribute("data-index"));st(d.target)&&pe(f),K(f),h?.onFocus?.(d)},Ve=h=>d=>{st(d.target)||pe(-1),K(-1),h?.onBlur?.(d)},Re=(h,d)=>{const f=Number(h.currentTarget.getAttribute("data-index")),S=L[f],x=A.indexOf(S);let m=d;if(be&&P==null){const Z=A[A.length-1];m>=Z?m=Z:m<=A[0]?m=A[0]:m=m<S?A[x-1]:A[x+1]}if(m=ye(m,l,s),de){n&&(m=ye(m,L[f-1]||-1/0,L[f+1]||1/0));const Z=m;m=dt({values:L,newValue:m,index:f});let $=f;n||($=m.indexOf(Z)),_e({sliderRef:k,activeIndex:$})}V(m),pe(f),T&&!Te(m,W)&&T(h,m,f),C&&C(h,Y.current??m)},Ze=h=>d=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(d.key)){d.preventDefault();const f=Number(d.currentTarget.getAttribute("data-index")),S=L[f];let x=null;if(P!=null){const m=d.shiftKey?b:P;switch(d.key){case"ArrowUp":x=fe(S,m,1,l,s);break;case"ArrowRight":x=fe(S,m,i?-1:1,l,s);break;case"ArrowDown":x=fe(S,m,-1,l,s);break;case"ArrowLeft":x=fe(S,m,i?1:-1,l,s);break;case"PageUp":x=fe(S,b,1,l,s);break;case"PageDown":x=fe(S,b,-1,l,s);break;case"Home":x=l;break;case"End":x=s;break}}else if(be){const m=A[A.length-1],Z=A.indexOf(S),$=[i?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],j=[i?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];$.includes(d.key)?Z===0?x=A[0]:x=A[Z-1]:j.includes(d.key)&&(Z===A.length-1?x=m:x=A[Z+1])}x!=null&&Re(d,x)}h?.onKeyDown?.(d)};Nt(()=>{r&&k.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&y!==-1&&z(-1),r&&J!==-1&&pe(-1);const Pe=h=>d=>{h.onChange?.(d),Re(d,d.target.valueAsNumber)},ne=g.useRef(void 0);let ae=v;i&&v==="horizontal"&&(ae+="-reverse");const ie=({finger:h,move:d=!1})=>{const{current:f}=k,{width:S,height:x,bottom:m,left:Z}=f.getBoundingClientRect();let $;ae.startsWith("vertical")?$=(m-h.y)/x:$=(h.x-Z)/S,ae.includes("-reverse")&&($=1-$);let j;if(j=sr($,l,s),P)j=cr(j,P,l);else{const we=ut(A,j);j=A[we]}j=ye(j,l,s);let G=0;if(de){d?G=ne.current:G=ut(L,j),n&&(j=ye(j,L[G-1]||-1/0,L[G+1]||1/0));const we=j;j=dt({values:L,newValue:j,index:G}),n&&d||(G=j.indexOf(we),ne.current=G)}return{newValue:j,activeIndex:G}},se=Xe(h=>{const d=je(h,w);if(!d)return;if(U.current+=1,h.type==="mousemove"&&h.buttons===0){q(h);return}const{newValue:f,activeIndex:S}=ie({finger:d,move:!0});_e({sliderRef:k,activeIndex:S,setActive:z}),V(f),!ue&&U.current>ir&&re(!0),T&&!Te(f,W)&&T(h,f,S)}),q=Xe(h=>{const d=je(h,w);if(re(!1),!d)return;const{newValue:f}=ie({finger:d,move:!0});z(-1),h.type==="touchend"&&K(-1),C&&C(h,Y.current??f),w.current=void 0,le()}),F=Xe(h=>{if(r)return;pt()||h.preventDefault();const d=h.changedTouches[0];d!=null&&(w.current=d.identifier);const f=je(h,w);if(f!==!1){const{newValue:x,activeIndex:m}=ie({finger:f});_e({sliderRef:k,activeIndex:m,setActive:z}),V(x),T&&!Te(x,W)&&T(h,x,m)}U.current=0;const S=Fe(k.current);S.addEventListener("touchmove",se,{passive:!0}),S.addEventListener("touchend",q,{passive:!0})}),le=g.useCallback(()=>{const h=Fe(k.current);h.removeEventListener("mousemove",se),h.removeEventListener("mouseup",q),h.removeEventListener("touchmove",se),h.removeEventListener("touchend",q)},[q,se]);g.useEffect(()=>{const{current:h}=k;return h.addEventListener("touchstart",F,{passive:pt()}),()=>{h.removeEventListener("touchstart",F),le()}},[le,F]),g.useEffect(()=>{r&&le()},[r,le]);const $e=h=>d=>{if(h.onMouseDown?.(d),r||d.defaultPrevented||d.button!==0)return;d.preventDefault();const f=je(d,w);if(f!==!1){const{newValue:x,activeIndex:m}=ie({finger:f});_e({sliderRef:k,activeIndex:m,setActive:z}),V(x),T&&!Te(x,W)&&T(d,x,m)}U.current=0;const S=Fe(k.current);S.addEventListener("mousemove",se,{passive:!0}),S.addEventListener("mouseup",q)},ke=We(de?L[0]:l,l,s),O=We(L[L.length-1],l,s)-ke,xe=(h={})=>{const d=Ke(h),f={onMouseDown:$e(d||{})},S={...d,...f};return{...h,ref:oe,...S}},Ee=h=>d=>{h.onMouseOver?.(d);const f=Number(d.currentTarget.getAttribute("data-index"));K(f)},De=h=>d=>{h.onMouseLeave?.(d),K(-1)},Ae=(h={})=>{const d=Ke(h),f={onMouseOver:Ee(d||{}),onMouseLeave:De(d||{})};return{...h,...d,...f}},ze=h=>({pointerEvents:y!==-1&&y!==h?"none":void 0});let he;return v==="vertical"&&(he=i?"vertical-rl":"vertical-lr"),{active:y,axis:ae,axisProps:ur,dragging:ue,focusedThumbIndex:J,getHiddenInputProps:(h={})=>{const d=Ke(h),f={onChange:Pe(d||{}),onFocus:Ue(d||{}),onBlur:Ve(d||{}),onKeyDown:Ze(d||{})},S={...d,...f};return{tabIndex:H,"aria-labelledby":o,"aria-orientation":v,"aria-valuemax":E(s),"aria-valuemin":E(l),name:c,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...h,...S,style:{...nr,direction:i?"rtl":"ltr",width:"100%",height:"100%",writingMode:he}}},getRootProps:xe,getThumbProps:Ae,marks:be,open:_,range:de,rootRef:oe,trackLeap:O,trackOffset:ke,values:L,getThumbStyle:ze}}const hr=t=>!t||!Oe(t);function fr(t){return Ft("MuiSlider",t)}const B=It("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),mr=t=>{const{open:o}=t;return{offset:Ce(o&&B.valueLabelOpen),circle:B.valueLabelCircle,label:B.valueLabelLabel}};function gr(t){const{children:o,className:e,value:r}=t,n=mr(t);return o?g.cloneElement(o,{className:o.props.className},u.jsxs(g.Fragment,{children:[o.props.children,u.jsx("span",{className:Ce(n.offset,e),"aria-hidden":!0,children:u.jsx("span",{className:n.circle,children:u.jsx("span",{className:n.label,children:r})})})]})):null}function ht(t){return t}const vr=ce("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:e}=t;return[o.root,o[`color${ee(e.color)}`],e.size!=="medium"&&o[`size${ee(e.size)}`],e.marked&&o.marked,e.orientation==="vertical"&&o.vertical,e.track==="inverted"&&o.trackInverted,e.track===!1&&o.trackFalse]}})(ve(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${B.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${B.dragging}`]:{[`& .${B.thumb}, & .${B.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(it()).map(([o])=>({props:{color:o},style:{color:(t.vars||t).palette[o].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),br=ce("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),xr=ce("span",{name:"MuiSlider",slot:"Track"})(ve(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(it()).map(([o])=>({props:{color:o,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${o}Track`],borderColor:t.vars.palette.Slider[`${o}Track`]}:{backgroundColor:t.lighten(t.palette[o].main,.62),borderColor:t.lighten(t.palette[o].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[o].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[o].main,.5)})}}}))]}))),wr=ce("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,o)=>{const{ownerState:e}=t;return[o.thumb,o[`thumbColor${ee(e.color)}`],e.size!=="medium"&&o[`thumbSize${ee(e.size)}`]]}})(ve(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${B.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(it()).map(([o])=>({props:{color:o},style:{[`&:hover, &.${B.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[o].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${B.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[o].main,.16)}`}}}))]}))),yr=ce(gr,{name:"MuiSlider",slot:"ValueLabel"})(ve(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${B.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${B.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Sr=ce("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Rt(t)&&t!=="markActive",overridesResolver:(t,o)=>{const{markActive:e}=t;return[o.mark,e&&o.markActive]}})(ve(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),Cr=ce("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Rt(t)&&t!=="markLabelActive"})(ve(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),Rr=t=>{const{disabled:o,dragging:e,marked:r,orientation:n,track:i,classes:a,color:s,size:l}=t,c={root:["root",o&&"disabled",e&&"dragging",r&&"marked",n==="vertical"&&"vertical",i==="inverted"&&"trackInverted",i===!1&&"trackFalse",s&&`color${ee(s)}`,l&&`size${ee(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",o&&"disabled",l&&`thumbSize${ee(l)}`,s&&`thumbColor${ee(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Ht(c,fr,a)},Pr=({children:t})=>t,kr=g.forwardRef(function(o,e){const r=Ot({props:o,name:"MuiSlider"}),n=Wt(),{"aria-label":i,"aria-valuetext":a,"aria-labelledby":s,component:l="span",components:c={},componentsProps:p={},color:C="primary",classes:v,className:R,disableSwap:E=!1,disabled:P=!1,getAriaLabel:b,getAriaValueText:H,marks:D=!1,max:w=100,min:y=0,name:z,onChange:_,onChangeCommitted:K,orientation:ue="horizontal",shiftStep:re=10,size:U="medium",step:Y=1,scale:W=ht,slotProps:V,slots:T,tabIndex:de,track:L="normal",value:be,valueLabelDisplay:A="off",valueLabelFormat:J=ht,...pe}=r,k={...r,isRtl:n,max:w,min:y,classes:v,disabled:P,disableSwap:E,orientation:ue,marks:D,color:C,size:U,step:Y,shiftStep:re,scale:W,track:L,valueLabelDisplay:A,valueLabelFormat:J},{axisProps:oe,getRootProps:Ue,getHiddenInputProps:Ve,getThumbProps:Re,open:Ze,active:Pe,axis:ne,focusedThumbIndex:ae,range:ie,dragging:se,marks:q,values:F,trackOffset:le,trackLeap:$e,getThumbStyle:ke}=pr({...k,rootRef:e});k.marked=q.length>0&&q.some(M=>M.label),k.dragging=se,k.focusedThumbIndex=ae;const O=Rr(k),xe=T?.root??c.Root??vr,Ee=T?.rail??c.Rail??br,De=T?.track??c.Track??xr,Ae=T?.thumb??c.Thumb??wr,ze=T?.valueLabel??c.ValueLabel??yr,he=T?.mark??c.Mark??Sr,Le=T?.markLabel??c.MarkLabel??Cr,h=T?.input??c.Input??"input",d=V?.root??p.root,f=V?.rail??p.rail,S=V?.track??p.track,x=V?.thumb??p.thumb,m=V?.valueLabel??p.valueLabel,Z=V?.mark??p.mark,$=V?.markLabel??p.markLabel,j=V?.input??p.input,G=Q({elementType:xe,getSlotProps:Ue,externalSlotProps:d,externalForwardedProps:pe,additionalProps:{...hr(xe)&&{as:l}},ownerState:{...k,...d?.ownerState},className:[O.root,R]}),we=Q({elementType:Ee,externalSlotProps:f,ownerState:k,className:O.rail}),Lt=Q({elementType:De,externalSlotProps:S,additionalProps:{style:{...oe[ne].offset(le),...oe[ne].leap($e)}},ownerState:{...k,...S?.ownerState},className:O.track}),Be=Q({elementType:Ae,getSlotProps:Re,externalSlotProps:x,ownerState:{...k,...x?.ownerState},className:O.thumb}),Mt=Q({elementType:ze,externalSlotProps:m,ownerState:{...k,...m?.ownerState},className:O.valueLabel}),qe=Q({elementType:he,externalSlotProps:Z,ownerState:k,className:O.mark}),Ge=Q({elementType:Le,externalSlotProps:$,ownerState:k,className:O.markLabel}),jt=Q({elementType:h,getSlotProps:Ve,externalSlotProps:j,ownerState:k});return u.jsxs(xe,{...G,children:[u.jsx(Ee,{...we}),u.jsx(De,{...Lt}),q.filter(M=>M.value>=y&&M.value<=w).map((M,N)=>{const Ye=We(M.value,y,w),Me=oe[ne].offset(Ye);let X;return L===!1?X=F.includes(M.value):X=L==="normal"&&(ie?M.value>=F[0]&&M.value<=F[F.length-1]:M.value<=F[0])||L==="inverted"&&(ie?M.value<=F[0]||M.value>=F[F.length-1]:M.value>=F[0]),u.jsxs(g.Fragment,{children:[u.jsx(he,{"data-index":N,...qe,...!Oe(he)&&{markActive:X},style:{...Me,...qe.style},className:Ce(qe.className,X&&O.markActive)}),M.label!=null?u.jsx(Le,{"aria-hidden":!0,"data-index":N,...Ge,...!Oe(Le)&&{markLabelActive:X},style:{...Me,...Ge.style},className:Ce(O.markLabel,Ge.className,X&&O.markLabelActive),children:M.label}):null]},N)}),F.map((M,N)=>{const Ye=We(M,y,w),Me=oe[ne].offset(Ye),X=A==="off"?Pr:ze;return u.jsx(X,{...!Oe(X)&&{valueLabelFormat:J,valueLabelDisplay:A,value:typeof J=="function"?J(W(M),N):J,index:N,open:Ze===N||Pe===N||A==="on",disabled:P},...Mt,children:u.jsx(Ae,{"data-index":N,...Be,className:Ce(O.thumb,Be.className,Pe===N&&O.active,ae===N&&O.focusVisible),style:{...Me,...ke(N),...Be.style},children:u.jsx(h,{"data-index":N,"aria-label":b?b(N):i,"aria-valuenow":W(M),"aria-labelledby":s,"aria-valuetext":H?H(W(M),N):a,value:F[N],...jt})})},N)})]})}),Er=Pt(u.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),Dr=Pt(u.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}));var Qe,ft;function Ar(){if(ft)return Qe;ft=1;var t=!1,o,e,r,n,i,a,s,l,c,p,C,v,R,E,P;function b(){if(!t){t=!0;var D=navigator.userAgent,w=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(D),y=/(Mac OS X)|(Windows)|(Linux)/.exec(D);if(v=/\b(iPhone|iP[ao]d)/.exec(D),R=/\b(iP[ao]d)/.exec(D),p=/Android/i.exec(D),E=/FBAN\/\w+;/i.exec(D),P=/Mobile/i.exec(D),C=!!/Win64/.exec(D),w){o=w[1]?parseFloat(w[1]):w[5]?parseFloat(w[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var z=/(?:Trident\/(\d+.\d+))/.exec(D);a=z?parseFloat(z[1])+4:o,e=w[2]?parseFloat(w[2]):NaN,r=w[3]?parseFloat(w[3]):NaN,n=w[4]?parseFloat(w[4]):NaN,n?(w=/(?:Chrome\/(\d+\.\d+))/.exec(D),i=w&&w[1]?parseFloat(w[1]):NaN):i=NaN}else o=e=r=i=n=NaN;if(y){if(y[1]){var _=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(D);s=_?parseFloat(_[1].replace("_",".")):!0}else s=!1;l=!!y[2],c=!!y[3]}else s=l=c=!1}}var H={ie:function(){return b()||o},ieCompatibilityMode:function(){return b()||a>o},ie64:function(){return H.ie()&&C},firefox:function(){return b()||e},opera:function(){return b()||r},webkit:function(){return b()||n},safari:function(){return H.webkit()},chrome:function(){return b()||i},windows:function(){return b()||l},osx:function(){return b()||s},linux:function(){return b()||c},iphone:function(){return b()||v},mobile:function(){return b()||v||R||p||P},nativeApp:function(){return b()||E},android:function(){return b()||p},ipad:function(){return b()||R}};return Qe=H,Qe}var et,mt;function zr(){if(mt)return et;mt=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),o={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return et=o,et}var tt,gt;function Lr(){if(gt)return tt;gt=1;var t=zr(),o;t.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(r,n){if(!t.canUseDOM||n&&!("addEventListener"in document))return!1;var i="on"+r,a=i in document;if(!a){var s=document.createElement("div");s.setAttribute(i,"return;"),a=typeof s[i]=="function"}return!a&&o&&r==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}return tt=e,tt}var rt,vt;function Mr(){if(vt)return rt;vt=1;var t=Ar(),o=Lr(),e=10,r=40,n=800;function i(a){var s=0,l=0,c=0,p=0;return"detail"in a&&(l=a.detail),"wheelDelta"in a&&(l=-a.wheelDelta/120),"wheelDeltaY"in a&&(l=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(s=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(s=l,l=0),c=s*e,p=l*e,"deltaY"in a&&(p=a.deltaY),"deltaX"in a&&(c=a.deltaX),(c||p)&&a.deltaMode&&(a.deltaMode==1?(c*=r,p*=r):(c*=n,p*=n)),c&&!s&&(s=c<1?-1:1),p&&!l&&(l=p<1?-1:1),{spinX:s,spinY:l,pixelX:c,pixelY:p}}return i.getEventType=function(){return t.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},rt=i,rt}var ot,bt;function jr(){return bt||(bt=1,ot=Mr()),ot}var _r=jr();const Tr=Ut(_r);function Nr(t,o,e,r,n,i){i===void 0&&(i=0);var a=ge(t,o,i),s=a.width,l=a.height,c=Math.min(s,e),p=Math.min(l,r);return c>p*n?{width:p*n,height:p}:{width:c,height:c/n}}function Ir(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Se(t,o,e,r,n){n===void 0&&(n=0);var i=ge(o.width,o.height,n),a=i.width,s=i.height;return{x:xt(t.x,a,e.width,r),y:xt(t.y,s,e.height,r)}}function xt(t,o,e,r){var n=o*r/2-e/2;return He(t,-n,n)}function wt(t,o){return Math.sqrt(Math.pow(t.y-o.y,2)+Math.pow(t.x-o.x,2))}function yt(t,o){return Math.atan2(o.y-t.y,o.x-t.x)*180/Math.PI}function Fr(t,o,e,r,n,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var s=a?Or:Wr,l=ge(o.width,o.height,i),c=ge(o.naturalWidth,o.naturalHeight,i),p={x:s(100,((l.width-e.width/n)/2-t.x/n)/l.width*100),y:s(100,((l.height-e.height/n)/2-t.y/n)/l.height*100),width:s(100,e.width/l.width*100/n),height:s(100,e.height/l.height*100/n)},C=Math.round(s(c.width,p.width*c.width/100)),v=Math.round(s(c.height,p.height*c.height/100)),R=c.width>=c.height*r,E=R?{width:Math.round(v*r),height:v}:{width:C,height:Math.round(C/r)},P=I(I({},E),{x:Math.round(s(c.width-E.width,p.x*c.width/100)),y:Math.round(s(c.height-E.height,p.y*c.height/100))});return{croppedAreaPercentages:p,croppedAreaPixels:P}}function Or(t,o){return Math.min(t,Math.max(0,o))}function Wr(t,o){return o}function St(t,o,e,r,n,i){var a=ge(o.width,o.height,e),s=He(r.width/a.width*(100/t.width),n,i),l={x:s*a.width/2-r.width/2-a.width*s*(t.x/100),y:s*a.height/2-r.height/2-a.height*s*(t.y/100)};return{crop:l,zoom:s}}function Hr(t,o,e){var r=Ir(o);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function Ur(t,o,e,r,n,i){e===void 0&&(e=0);var a=ge(o.naturalWidth,o.naturalHeight,e),s=He(Hr(t,o,r),n,i),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((a.width-t.width)/2-t.x)*l,y:((a.height-t.height)/2-t.y)*l};return{crop:c,zoom:s}}function Ct(t,o){return{x:(o.x+t.x)/2,y:(o.y+t.y)/2}}function Vr(t){return t*Math.PI/180}function ge(t,o,e){var r=Vr(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*o),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*o)}}function He(t,o,e){return Math.min(Math.max(t,o),e)}function Ie(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Zr=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,$r=1,Br=3,qr=1,Gr=(function(t){Yt(o,t);function o(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=g.createRef(),e.imageRef=g.createRef(),e.videoRef=g.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.canonicalCroppedAreaPercentages=null,e.cachedCroppedAreaPixels=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(n){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var n=St(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=n.crop,a=n.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}else if(e.props.initialCroppedAreaPixels){var s=Ur(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=s.crop,a=s.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}},e.computeSizes=function(){var r,n,i,a,s,l,c=e.imageRef.current||e.videoRef.current;if(c&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var p=e.containerRect.width/e.containerRect.height,C=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((n=e.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,v=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,R=c.offsetWidth<C||c.offsetHeight<v,E=C/v,P=void 0;if(R)switch(e.state.mediaObjectFit){default:case"contain":P=p>E?{width:e.containerRect.height*E,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/E};break;case"horizontal-cover":P={width:e.containerRect.width,height:e.containerRect.width/E};break;case"vertical-cover":P={width:e.containerRect.height*E,height:e.containerRect.height};break}else P={width:c.offsetWidth,height:c.offsetHeight};e.mediaSize=I(I({},P),{naturalWidth:C,naturalHeight:v}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var b=e.props.cropSize?e.props.cropSize:Nr(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==b.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==b.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(b),e.setState({cropSize:b},function(){e.applyCanonical(b)||e.recomputeCropPosition()}),e.props.setCropSize&&e.props.setCropSize(b),b}},e.applyCanonical=function(r){if(!e.canonicalCroppedAreaPercentages)return!1;var n=St(e.canonicalCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=n.crop,a=n.zoom;e.props.onZoomChange&&Math.abs(a-e.props.zoom)>1e-6&&e.props.onZoomChange(a);var s=Math.abs(i.x-e.props.crop.x),l=Math.abs(i.y-e.props.crop.y);return(s>1e-6||l>1e-6)&&e.props.onCropChange(i),e.emitCropData(),!0},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(o.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(o.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(o.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(o.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var n=o.getMousePoint(r),i=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(i,n,{shouldUpdatePosition:!0}),e.props.onRotationChange){var a=e.gestureRotationStart+r.rotation;e.props.onRotationChange(a)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var n,i,a=r.x,s=r.y;e.dragStartPosition={x:a,y:s},e.dragStartCrop=I({},e.props.crop),(i=(n=e.props).onInteractionStart)===null||i===void 0||i.call(n)},e.onDrag=function(r){var n=r.x,i=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(n===void 0||i===void 0)){var a=n-e.dragStartPosition.x,s=i-e.dragStartPosition.y,l={x:e.dragStartCrop.x+a,y:e.dragStartCrop.y+s},c=e.props.restrictPosition?Se(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(c)}}))},e.onDragStopped=function(){var r,n;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(n=(r=e.props).onInteractionEnd)===null||n===void 0||n.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var n=o.getMousePoint(r),i=Tr(r).pixelY,a=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(a,n,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,l;return(l=(s=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,l;return(l=(s=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(s)})},250)}},e.getPointOnContainer=function(r,n){var i=r.x,a=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-n.x),y:e.containerRect.height/2-(a-n.y)}},e.getPointOnMedia=function(r){var n=r.x,i=r.y,a=e.props,s=a.crop,l=a.zoom;return{x:(n+s.x)/l,y:(i+s.y)/l}},e.setNewZoom=function(r,n,i){var a=i===void 0?{}:i,s=a.shouldUpdatePosition,l=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var c=He(r,e.props.minZoom,e.props.maxZoom);if(l){var p=e.getPointOnContainer(n,e.containerPosition),C=e.getPointOnMedia(p),v={x:C.x*c-p.x,y:C.y*c-p.y},R=e.props.restrictPosition?Se(v,e.mediaSize,e.state.cropSize,c,e.props.rotation):v;e.props.onCropChange(R)}e.props.onZoomChange(c)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?Se(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Fr(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var n=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.canonicalCroppedAreaPercentages=n,e.cachedCroppedAreaPixels=i,e.props.onCropComplete&&e.props.onCropComplete(n,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(n,i)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var n=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.canonicalCroppedAreaPercentages=n,e.cachedCroppedAreaPixels=i,e.props.onCropAreaChange&&e.props.onCropAreaChange(n,i)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var r=e.props.restrictPosition?Se(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e.onKeyDown=function(r){var n,i,a=e.props,s=a.crop,l=a.onCropChange,c=a.keyboardStep,p=a.zoom,C=a.rotation,v=c;if(e.state.cropSize){r.shiftKey&&(v*=.2);var R=I({},s);switch(r.key){case"ArrowUp":R.y-=v,r.preventDefault();break;case"ArrowDown":R.y+=v,r.preventDefault();break;case"ArrowLeft":R.x-=v,r.preventDefault();break;case"ArrowRight":R.x+=v,r.preventDefault();break;default:return}e.props.restrictPosition&&(R=Se(R,e.mediaSize,e.state.cropSize,p,C)),r.repeat||(i=(n=e.props).onInteractionStart)===null||i===void 0||i.call(n),l(R)}},e.onKeyUp=function(r){var n,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(i=(n=e.props).onInteractionEnd)===null||i===void 0||i.call(n)},e}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Zr,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},o.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(e){var r,n,i,a,s,l,c,p,C;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((n=this.props.cropSize)===null||n===void 0?void 0:n.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=e.crop)===null||c===void 0?void 0:c.y)!==((p=this.props.crop)===null||p===void 0?void 0:p.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((C=this.videoRef.current)===null||C===void 0||C.load());var v=this.getObjectFit();v!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:v},this.computeSizes)},o.prototype.getAspect=function(){var e=this.props,r=e.cropSize,n=e.aspect;return r?r.width/r.height:n},o.prototype.getObjectFit=function(){var e,r,n,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,l=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,p=l/c;return p<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(e){var r=o.getTouchPoint(e.touches[0]),n=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=wt(r,n),this.lastPinchRotation=yt(r,n),this.onDragStart(Ct(r,n))},o.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var n=o.getTouchPoint(e.touches[0]),i=o.getTouchPoint(e.touches[1]),a=Ct(n,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=wt(n,i),l=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(l,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var c=yt(n,i),p=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(p),r.lastPinchRotation=c})}},o.prototype.render=function(){var e=this,r,n=this.props,i=n.image,a=n.video,s=n.mediaProps,l=n.cropperProps,c=n.transform,p=n.crop,C=p.x,v=p.y,R=n.rotation,E=n.zoom,P=n.cropShape,b=n.showGrid,H=n.roundCropAreaPixels,D=n.style,w=D.containerStyle,y=D.cropAreaStyle,z=D.mediaStyle,_=n.classes,K=_.containerClassName,ue=_.cropAreaClassName,re=_.mediaClassName,U=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return g.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(W){return e.containerRef=W},"data-testid":"container",style:w,className:Ie("reactEasyCrop_Container",K)},i?g.createElement("img",I({alt:"",className:Ie("reactEasyCrop_Image",U==="contain"&&"reactEasyCrop_Contain",U==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",U==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",re)},s,{src:i,ref:this.imageRef,style:I(I({},z),{transform:c||"translate(".concat(C,"px, ").concat(v,"px) rotate(").concat(R,"deg) scale(").concat(E,")")}),onLoad:this.onMediaLoad})):a&&g.createElement("video",I({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ie("reactEasyCrop_Video",U==="contain"&&"reactEasyCrop_Contain",U==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",U==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",re)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:I(I({},z),{transform:c||"translate(".concat(C,"px, ").concat(v,"px) rotate(").concat(R,"deg) scale(").concat(E,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(Y){return g.createElement("source",I({key:Y.src},Y))})),this.state.cropSize&&g.createElement("div",I({ref:this.cropperRef,style:I(I({},y),{width:H?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:H?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Ie("reactEasyCrop_CropArea",P==="round"&&"reactEasyCrop_CropAreaRound",b&&"reactEasyCrop_CropAreaGrid",ue)},l)))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Br,minZoom:$r,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:qr},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o})(g.Component);const Yr={GET_SECTIONS:"api/campus/get/sections/"},Xr=nt.create({baseURL:at,withCredentials:!0,headers:{"Content-Type":"application/json"}}),Kr=async(t,o)=>{const e=`${Yr.GET_SECTIONS}${t}${o?`${o}`:""}`;return(await Xr.get(e)).data};function Jr(t,o){return Kt({queryKey:["groups",t,o],queryFn:()=>Kr(t,o)})}const Qr=async(t,o,e)=>{const r=new Image;r.src=t,await new Promise(c=>r.onload=c);const n=document.createElement("canvas"),i=n.getContext("2d"),a=Math.min(r.width,r.height);n.width=a,n.height=a;const s=o.x*r.width/100,l=o.y*r.height/100;return i.drawImage(r,s,l,a/e,a/e,0,0,n.width,n.height),new Promise(c=>{n.toBlob(p=>{p&&c(new File([p],"cropped-logo.png",{type:"image/png"}))},"image/png")})},eo=({onSave:t})=>{const[o,e]=g.useState(null),[r,n]=g.useState({x:0,y:0}),[i,a]=g.useState(1),s=c=>{if(c.target.files?.[0]){const p=new FileReader;p.onload=()=>e(p.result),p.readAsDataURL(c.target.files[0])}},l=async()=>{if(!o)return;const c=await Qr(o,r,i);t(c),e(null)};return u.jsx("div",{children:o?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"relative w-72 h-72 bg-black",children:u.jsx(Gr,{image:o,crop:r,zoom:i,aspect:1,onCropChange:n,onZoomChange:a})}),u.jsx(kr,{min:1,max:3,step:.1,value:i,onChange:(c,p)=>a(p),sx:{width:200,mt:2}}),u.jsx(me,{variant:"contained",startIcon:u.jsx(Er,{}),onClick:l,sx:{mt:2,background:"linear-gradient(90deg, #007BFF 0%, #004A99 100%)"},children:"Save Logo"})]}):u.jsxs(me,{component:"label",variant:"outlined",startIcon:u.jsx(Dr,{}),sx:{borderRadius:2,textTransform:"none"},children:["Upload Logo",u.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:s})]})})},to=({open:t,onClose:o,onCreate:e})=>{const[r,n]=g.useState(""),[i,a]=g.useState(null),s=l=>{l.preventDefault(),r.trim()&&(e(r,i||void 0),n(""),a(null))};return u.jsx(Qt,{open:t,onClose:o,children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto mt-20",children:[u.jsx(te,{variant:"h6",align:"center",gutterBottom:!0,children:"Create Section"}),u.jsxs("form",{onSubmit:s,className:"flex flex-col gap-4",children:[u.jsx(Dt,{label:"Section Name",value:r,onChange:l=>n(l.target.value),variant:"outlined",fullWidth:!0,required:!0}),u.jsx(eo,{onSave:a}),i&&u.jsx("div",{className:"flex justify-center mt-2",children:u.jsx("img",{src:URL.createObjectURL(i),alt:"Cropped Logo",className:"h-24 w-24 object-contain rounded border p-1 border-gray-300"})}),u.jsxs(me,{type:"submit",variant:"contained",sx:{background:"linear-gradient(90deg, #007BFF 0%, #004A99 100%)",color:"#fff",borderRadius:2},children:["Create ",u.jsx(At,{})]})]})]})})},ro=({section:t,onDelete:o})=>{const[e,r]=g.useState(!1),n=Gt();return u.jsxs("div",{className:"relative flex flex-col rounded-xl bg-white text-gray-700 shadow-md hover:shadow-lg transition-transform hover:scale-[1.02]",children:[u.jsxs("div",{className:"relative h-40 flex items-center justify-center bg-gradient-to-r rounded-t-xl overflow-hidden",children:[!e&&t.logo&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:u.jsx(te,{variant:"body2",color:"textSecondary",children:"Loading..."})}),t.logo?u.jsx("img",{src:t.logo,alt:t.name,className:"h-full w-full object-cover",onLoad:()=>r(!0)}):u.jsx(te,{variant:"h4",className:"text-gray-900 font-bold",children:t.name[0]}),u.jsx(kt,{title:"Delete",arrow:!0,children:u.jsx(Et,{size:"small",onClick:()=>o(t._id),sx:{position:"absolute",top:8,right:8,color:"#fff",background:"rgba(0,0,0,0.4)","&:hover":{background:"rgba(255,0,0,0.6)"}},children:u.jsx(or,{fontSize:"small"})})})]}),u.jsx("div",{className:"px-6 pt-4 pb-2 text-center",children:u.jsx(te,{variant:"h6",className:"font-semibold",children:t.name})}),u.jsx("div",{className:"flex justify-center pb-4",children:u.jsx(me,{onClick:()=>{localStorage.setItem("sectionId",t._id),n("section/"+t._id)},endIcon:u.jsx(rr,{}),sx:{px:3,py:1,fontSize:12,background:"linear-gradient(90deg, #007BFF 0%, #004A99 100%)",color:"#fff",borderRadius:2},children:"Proceed"})})]})},go=()=>{const[t,o]=g.useState(""),[e,r]=g.useState(!1),[n,i]=g.useState(!1),[a,s]=g.useState(""),l=Vt(),c=lt(y=>y.auth.user?.user),p=lt(Xt),C=c?.role==="campus-admin"?c._id:void 0,{enqueueSnackbar:v}=Zt(),{data:R,error:E,isLoading:P,refetch:b}=Jr(p??"",C);if(E)return u.jsx(u.Fragment,{children:JSON.stringify(E)});const H=async(y,z)=>{if(!p)return o("No group assigned");try{i(!0);const _=new FormData;_.append("name",y),_.append("groupId",p),z&&_.append("logo",z),await nt.post(at+"/api/campus/create/section",_,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),v("Section created successfully!",{variant:"success"}),r(!1),await b()}catch(_){console.error(_),o(_.response?.data?.message||"Error creating section")}finally{i(!1)}},D=async y=>{try{i(!0),await nt.post(at+"/api/campus/delete/section/"+y,{},{withCredentials:!0}),v("Section deleted successfully!",{variant:"success"}),await b()}catch(z){console.error(z),o(z.response?.data?.message||"Error deleting section")}finally{i(!1)}},w=g.useMemo(()=>R?.data?R.data.filter(y=>y.name.toLowerCase().includes(a.toLowerCase())):[],[R,a]);return u.jsxs(u.Fragment,{children:[u.jsxs(Jt,{open:n,sx:{color:"#fff",zIndex:y=>y.zIndex.drawer+1,display:"flex",flexDirection:"column",gap:2},children:[u.jsx($t,{color:"inherit"}),u.jsx(te,{variant:"body2",sx:{mt:1},children:"Please wait... Processing your request"})]}),u.jsxs("header",{className:"p-2 border-b border-b-[#e1e1e1] flex flex-wrap gap-3 items-center justify-between px-5",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:Bt,className:"h-10",alt:"Logo"}),u.jsx(Dt,{placeholder:"Search sections...",size:"small",value:a,onChange:y=>s(y.target.value),InputProps:{startAdornment:u.jsx(er,{position:"start",children:u.jsx(tr,{color:"action"})})},sx:{width:240}})]}),u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx(me,{onClick:()=>r(!0),sx:{width:180,cursor:"none",fontSize:10,height:36,border:"1px solid #e1e1e1",color:"#fff"},disabled:!0,children:"Master Data"}),u.jsxs(me,{onClick:()=>r(!0),sx:{width:180,fontSize:10,height:36,background:"linear-gradient(90deg, #007BFF 0%, #004A99 100%)",color:"#fff"},children:["Create New Section ",u.jsx(At,{})]}),u.jsx(kt,{title:"Logout",arrow:!0,children:u.jsx(Et,{onClick:l,size:"small",sx:{color:"#f44336"},children:u.jsx(qt,{sx:{cursor:"pointer"}})})})]})]}),t&&u.jsx(te,{color:"success.main",className:"px-5 mt-2",children:t}),P?u.jsx(ct,{className:"grid grid-cols-1 p-5 mt-4 md:grid-cols-3 lg:grid-cols-5 gap-6",children:Array.from({length:5}).map((y,z)=>u.jsxs(ct,{className:"rounded-xl shadow-md bg-white p-3",children:[u.jsx(Je,{variant:"rectangular",height:150,animation:"wave"}),u.jsx(Je,{variant:"text",height:30,sx:{mt:2}}),u.jsx(Je,{variant:"rounded",height:36,width:"60%",sx:{mt:1}})]},z))}):w.length?u.jsx("div",{className:"grid grid-cols-1 p-5 mt-4 md:grid-cols-3 lg:grid-cols-5 gap-6",children:w.map(y=>u.jsx(ro,{section:y,onDelete:D},y._id))}):u.jsxs("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:[u.jsx(te,{variant:"body1",gutterBottom:!0,children:a?`No results found for "${a}"`:"Admin, no sections have been created yet."}),!a&&u.jsx(te,{variant:"body2",children:'Click "Create New Section" to get started.'})]}),u.jsx(to,{open:e,onClose:()=>r(!1),onCreate:H})]})};export{go as default};
