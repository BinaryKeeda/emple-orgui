import{r as c,u as x,a as g,j as e,L as h,T as d,I as m,b as u,c as p,d as f,B as j}from"./index-BIcbHDZS.js";import{T as t}from"./Typography-Bwb-8M5c.js";import{D as b}from"./Delete-BeDMGDrI.js";import{B as v}from"./Button-CdXLIubO.js";import{A as y}from"./ArrowRight-C2BH1tqR.js";const N=({section:s,onDelete:o})=>{const[i,a]=c.useState(!1),l=p();return e.jsxs("div",{className:"relative flex flex-col rounded-xl bg-white text-gray-700 shadow-md hover:shadow-lg transition-transform hover:scale-[1.02]",children:[e.jsxs("div",{className:"relative h-40 flex items-center justify-center bg-gradient-to-r rounded-t-xl overflow-hidden",children:[!i&&s.logo&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:e.jsx(t,{variant:"body2",color:"textSecondary",children:"Loading..."})}),s.logo?e.jsx("img",{src:s.logo,alt:s.name,className:"h-full w-full object-cover",onLoad:()=>a(!0)}):e.jsx(t,{variant:"h4",className:"text-gray-900 font-bold",children:s.name[0]}),e.jsx(d,{title:"Delete",arrow:!0,children:e.jsx(m,{size:"small",onClick:o,sx:{position:"absolute",top:8,right:8,color:"#fff",background:"rgba(0,0,0,0.4)","&:hover":{background:"rgba(255,0,0,0.6)"}},children:e.jsx(b,{fontSize:"small"})})})]}),e.jsx("div",{className:"px-6 pt-4 pb-2 text-center",children:e.jsx(t,{variant:"h6",className:"font-semibold",children:s.name})}),e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx(v,{onClick:()=>{localStorage.setItem("sectionId",s._id),l("section/"+s._id)},endIcon:e.jsx(y,{}),sx:{px:3,py:1,fontSize:12,background:"linear-gradient(90deg, #007BFF 0%, #004A99 100%)",color:"#fff",borderRadius:2},children:"Proceed"})})]})},B=()=>{const[s,o]=c.useState(""),i=x(),a=g(r=>r.auth.user),l=async r=>{try{await f.post(j+"/api/campus/delete/section/"+r,{},{withCredentials:!0}),o("Section deleted successfully!")}catch(n){console.error(n),o(n.response?.data?.message||"Error deleting section")}};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"p-2 border-b border-b-[#e1e1e1] flex gap-3 items-center justify-between px-5",children:[e.jsx("img",{src:h,className:"h-10",alt:"Logo"}),e.jsx("div",{className:"flex gap-4 items-center",children:e.jsx(d,{title:"Logout",arrow:!0,children:e.jsx(m,{onClick:i,size:"small",sx:{color:"#f44336"},children:e.jsx(u,{sx:{cursor:"pointer"}})})})})]}),s&&e.jsx(t,{color:"success.main",className:"px-5 mt-2",children:s}),Array.isArray(a?.ownership)&&a.ownership.length?e.jsx("div",{className:"grid grid-cols-1 p-5 mt-4 md:grid-cols-3 lg:grid-cols-5 gap-6",children:a.ownership.map(r=>e.jsx(N,{section:r.section,onDelete:()=>l(r._id)},r.section._id))}):e.jsxs("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:[e.jsx(t,{variant:"body1",gutterBottom:!0,children:"Admin, no sections have been created yet."}),e.jsx(t,{variant:"body2",children:"Ask your admin to create sections."})]})]})};export{B as default};
